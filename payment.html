<script src="https://checkout.stripe.com/checkout.js"></script>
<select id="paymentOptions">
  <option value="354">One person (£295 + VAT)</option>
  <option value="354">Two people (£295 + VAT)</option>
</select>
<button id="paymentButton">Purchase</button>

<script>
  var handler = StripeCheckout.configure({
    key: 'pk_test_bhBVTxEjUi2wYm6MoHWp0WVT',
    image: '/square-image.png',
    token: function(token, args) {
      // Use the token to create the charge with a server-side script.
      // You can access the token ID with `token.id`
      console.log(args);
    }
  });

  document.getElementById('paymentButton').addEventListener('click', function(e) {
    var select = document.getElementById("paymentOptions");
    // Open Checkout with further options
    handler.open({
      name: 'HR Analytics Workshop',
      description: select.options[select.selectedIndex].text,
      amount: select.options[select.selectedIndex].value,
      currency: 'GBP',
      panelLabel: 'Pay {{amount}}'
    });
    e.preventDefault();
  });
</script>
